<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>

    <!-- Hotjar Tracking Code for Arb Test Lander -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:5278891,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>

    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1d1e20;
            color: #e4e7ea;
            display: flex;
            flex-direction: column; /* Stacks the logo and search bar vertically */
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Style for the logo */
        .logo-container {
            margin-bottom: 20px; /* Space between the logo and search bar */
        }

        .logo {
            max-width: 200px; /* Adjust the width of the logo */
            height: auto; /* Maintain aspect ratio */
        }

        /* Center the Google Custom Search box */
        .gcse-container {
            text-align: center;
            width: 100%;
            max-width: 800px; /* Makes the search bar longer horizontally */
        }

        /* Style for the search bar */
        input.gsc-input {
            background-color: #43484c !important; /* Search bar background */
            color: #e4e7ea !important; /* Text color in the search bar */
            border: none !important; /* Remove input borders */
            border-radius: 24px !important; /* Rounded corners */
            padding: 10px 20px !important; /* Add padding */
            font-size: 16px !important; /* Adjust font size */
            width: 100% !important; /* Ensure it stretches to match the container width */
            box-shadow: none !important; /* Removes box shadow */
        }

        /* Style for the search button */
        button.gsc-search-button {
            background-color: #43484c !important; /* Match the button background to the search bar */
            border: none !important; /* Remove border for the button */
            border-radius: 24px !important; /* Ensure the button is rounded */
            margin-left: -50px !important; /* Align button inside the search bar */
            padding: 0 15px !important; /* Add padding to the button */
            height: 40px !important; /* Adjust button height */
            color: #e4e7ea !important; /* Button text color */
            cursor: pointer;
        }

        /* Ensure the magnifying glass stays white */
        svg.gsc-search-button-icon {
            fill: #ffffff !important; /* Set magnifying glass icon to white */
        }

        /* Remove the white rectangle and its border */
        table.gsc-search-box,
        table.gstl_50,
        td.gsc-input,
        td.gsib_a,
        td.gsib_b,
        div.gsc-input-box {
            background-color: #1d1e20 !important; /* Match background to site color */
            border: none !important; /* Remove all borders */
            box-shadow: none !important; /* Remove any shadows */
            outline: none !important; /* Remove outlines */
        }

        tr {
            background-color: #1d1e20 !important; /* Transparent row background */
            border: none !important; /* Remove row border */
        }

        /* Remove the X button */
        .gsst_a {
            display: none !important; /* Completely hide the X button */
        }
    </style>
    <!-- Google Custom Search -->
    <script async src="https://cse.google.com/cse.js?cx=64ded9897c12e4573"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function getUrlParams(url) {
                const params = {};
                const queryString = url.split('?')[1] || '';
                new URLSearchParams(queryString).forEach((value, key) => {
                    params[key] = value;
                });
                return params;
            }

            // Extract URL and referer parameters
            const currentParams = getUrlParams(window.location.href);
            let target = currentParams.target || 'unknown';
            let source = currentParams.source || 'unknown';
            if (!target || !source) {
                const referrerParams = getUrlParams(document.referrer);
                target = target === 'unknown' ? referrerParams.target || 'unknown' : target;
                source = source === 'unknown' ? referrerParams.source || 'unknown' : source;
            }

            const logData = {
                target: target,
                source: source,
                userAgent: navigator.userAgent,
                timestamp: new Date().toISOString(),
                missingFeatures: (!window.navigator || !window.localStorage),
                noInteraction: true, // Updated dynamically below
                fastPageLoad: false,
                clickedTrap: false,
                noJavaScript: false,
                suspiciousUserAgent: /curl|python|bot|crawler|headless/i.test(navigator.userAgent),
            };

            // Detect fast page load
            window.addEventListener("load", () => {
                const loadTime = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart;
                logData.fastPageLoad = loadTime < 100;
            });

            // Detect interaction
            let humanDetected = false;
            document.addEventListener("mousemove", () => humanDetected = true);
            document.addEventListener("keydown", () => humanDetected = true);
            setTimeout(() => {
                logData.noInteraction = !humanDetected;
            }, 5000);

            // Invisible trap link
            const trap = document.createElement("a");
            trap.href = "#";
            trap.textContent = "Invisible Link";
            trap.style.position = "absolute";
            trap.style.top = "-9999px";
            trap.style.left = "-9999px";
            document.body.appendChild(trap);
            trap.addEventListener("click", () => {
                logData.clickedTrap = true;
                sendLog();
            });

            // Log data after timeout
            setTimeout(() => {
                sendLog();
            }, 6000);

            function sendLog() {
                fetch('https://script.google.com/macros/s/AKfycbz2KssX3xATumTrCx74vvgIBsKdlyX_i76QGEOr8zpjBjGhwwRqvNDkCg3ToM3Z9-s/exec', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(logData),
                })
                    .then(response => console.log("Bot data sent:", response.status))
                    .catch(error => console.error("Error sending bot data:", error));
            }
        });
    </script>
</head>
<body>
    <!-- Logo -->
    <div class="logo-container">
        <img src="sitelogo.png" alt="Search Logo" class="logo">
    </div>

    <!-- Google Custom Search Box -->
    <div class="gcse-container">
        <div class="gcse-searchbox-only"></div>
    </div>
</body>
</html>
